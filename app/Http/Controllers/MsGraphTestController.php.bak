<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class MsGraphTestController extends Controller
{
    public function test()
    {
        $config = [
            'client_id' => config('msgraph.clientId'),
            'client_secret' => substr(config('msgraph.clientSecret'), 0, 5) . '***',
            'tenant_id' => config('msgraph.tenantId'),
            'redirect_uri' => config('msgraph.redirectUri'),
            'landing_url' => config('msgraph.msgraphLandingUri'),
            'scopes' => config('msgraph.scopes'),
            'env_values' => [
                'MSGRAPH_CLIENT_ID' => env('MSGRAPH_CLIENT_ID'),
                'MSGRAPH_CLIENT_SECRET' => substr(env('MSGRAPH_CLIENT_SECRET', ''), 0, 5) . '***',
                'MSGRAPH_TENANT_ID' => env('MSGRAPH_TENANT_ID'),
                'MSGRAPH_REDIRECT_URI' => env('MSGRAPH_REDIRECT_URI'),
                'MSGRAPH_LANDING_URL' => env('MSGRAPH_LANDING_URL'),
            ]
        ];
        
        return response()->json($config);
    }
}